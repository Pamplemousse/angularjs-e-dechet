function ListCtrl($scope, $location, Garbage) {
  $scope.$on('$viewContentLoaded', function() {
    $("#e2").select2({
      placeholder: "Select a State",
      allowClear: true
    });
    $("#e2_2").select2({
      placeholder: "Select a State"
    });
  });

  $scope.garbages = Garbage.query();

  $scope.goTo = function(garbageId) {
      $location.path('/garbage/'+garbageId);
  }

  $scope.testAjout = function() {
   // Sortie du script e-dechet.php 
   var dechets = [{"name": "pull", "categories": ["laine"], "description": ""}, {"name": "commode", "categories": [], "description": ""}, {"name": "batterie téléphone", "categories": [], "description": ""}, {"name": "assiette", "categories": [], "description": ""}, {"name": "verre a boire", "categories": [], "description": ""}, {"name": "canette de soda", "categories": [], "description": ""}, {"name": "sac plastique", "categories": [], "description": ""}, {"name": "cafetière", "categories": [], "description": ""}, {"name": "magazine", "categories": [], "description": ""}, {"name": "carton d'emballage", "categories": [], "description": ""}, {"name": "pot de peinture", "categories": [], "description": ""}, {"name": "roue de vélo", "categories": [], "description": ""}, {"name": "bouteille de soda", "categories": [], "description": ""}, {"name": "bouteille de lait ", "categories": ["plastique"], "description": ""}, {"name": "brique de lait", "categories": [], "description": "emballage tetrapack"}, {"name": "pot de yaourt", "categories": ["plastique"], "description": ""}, {"name": "pot de yaourt", "categories": ["verre"], "description": ""}, {"name": "bouteille de shampoing", "categories": [], "description": ""}, {"name": "rasoir jetable", "categories": [], "description": ""}, {"name": "bombe déodorant", "categories": [], "description": ""}, {"name": "déodorant en stick", "categories": [], "description": ""}, {"name": "barquette polystyrène", "categories": [], "description": ""}, {"name": "capsule de café", "categories": [], "description": ""}, {"name": "pot à épices", "categories": ["verre", "plastique"], "description": ""}, {"name": "paquet de cigarette", "categories": ["carton", "aluminium", "plastique"], "description": ""}, {"name": "bouteille de sauces", "categories": ["plastique"], "description": ""}, {"name": "bouteille de sauces", "categories": ["verre"], "description": ""}, {"name": "boîte de conserve", "categories": [], "description": ""}, {"name": "prospectus", "categories": [], "description": ""}, {"name": "boîte à oeufs", "categories": ["plastique"], "description": ""}, {"name": "boîte à oeufs", "categories": ["carton"], "description": ""}, {"name": "gobelet", "categories": ["plastique"], "description": ""}, {"name": "assiette", "categories": ["plastique"], "description": ""}, {"name": "assiette", "categories": ["carton"], "description": ""}, {"name": "gobelet", "categories": ["carton"], "description": ""}, {"name": "couverts", "categories": ["plastique"], "description": ""}, {"name": "brosse à dents", "categories": [], "description": ""}, {"name": "paquet de chips", "categories": [], "description": ""}, {"name": "jean", "categories": [], "description": ""}, {"name": "tee-shirt", "categories": ["coton"], "description": ""}, {"name": "chaussures", "categories": ["cuir"], "description": ""}, {"name": "chaussettes", "categories": [], "description": ""}, {"name": "piles", "categories": [], "description": ""}, {"name": "cartouche d'encre", "categories": [], "description": ""}, {"name": "ampoule à filament", "categories": [], "description": ""}, {"name": "ampoule à économie d'énergie", "categories": [], "description": ""}, {"name": "bouteille d'huile", "categories": ["verre"], "description": ""}, {"name": "bouteille d'huile", "categories": ["plastique"], "description": ""}, {"name": "carton de pizza", "categories": [], "description": ""}, {"name": "emballage de fast food", "categories": [], "description": ""}, {"name": "ticket de caisse", "categories": [], "description": ""}, {"name": "téléphone mobile", "categories": [], "description": ""}, {"name": "épluchures de fruits et légumes", "categories": [], "description": ""}, {"name": "paire de lunette", "categories": [], "description": ""}, {"name": "boîte à biscuits", "categories": ["métal"], "description": ""}, {"name": "médicament", "categories": [], "description": ""}, {"name": "pot de fleur en plastique", "categories": [], "description": ""}, {"name": "CD/ DVD", "categories": [], "description": ""}, {"name": "casserole en cuivre", "categories": [], "description": ""}, {"name": "casserole en aluminium", "categories": [], "description": ""}, {"name": "gant de cuisine", "categories": [], "description": ""}, {"name": "boîte de conservation", "categories": ["plastique"], "description": " (type Tupperware)"}, {"name": "film plastique", "categories": [], "description": "entourant certains magazines ou barquettes de viande"}, {"name": "papier aluminium", "categories": ["aluminium"], "description": ""}, {"name": "papier cuisson", "categories": [], "description": ""}, {"name": "sac de congélation", "categories": [], "description": ""}, {"name": "emballage", "categories": ["plastique"], "description": "pour les pâtes, fromage rapé, légumes surgelés..."}, {"name": "batterie automobile", "categories": [], "description": ""}, {"name": "huile de friture usagée", "categories": [], "description": ""}, {"name": "cubi de vin", "categories": [], "description": ""}, {"name": "bac de glace", "categories": [], "description": ""}, {"name": "lingette de ménage", "categories": [], "description": ""}, {"name": "baril de lessive", "categories": ["carton"], "description": ""}, {"name": "bouteille de lessive", "categories": ["plastique"], "description": ""}, {"name": "lingette anti-décoloration", "categories": [], "description": ""}, {"name": "rouge à lèvre", "categories": [], "description": ""}, {"name": "stylo", "categories": [], "description": ""}, {"name": "règle", "categories": ["plastique"], "description": ""}, {"name": "règle", "categories": ["fer"], "description": ""}, {"name": "rapporteur", "categories": ["plastique"], "description": ""}, {"name": "équerre", "categories": ["fer"], "description": ""}, {"name": "équerre", "categories": ["plastique"], "description": ""}, {"name": "tube de colle", "categories": [], "description": ""}, {"name": "ballon de football", "categories": [], "description": ""}, {"name": "suremballage carton", "categories": [], "description": ""}, {"name": "polystyrène", "categories": [], "description": ""}, {"name": "agenda", "categories": [], "description": ""}, {"name": "calendrier", "categories": ["carton"], "description": ""}, {"name": "enveloppe", "categories": ["papier"], "description": ""}, {"name": "enveloppe fenêtrée", "categories": ["papier", "plastique"], "description": ""}, {"name": "tube de dentifrice", "categories": [], "description": ""}, {"name": "peluche", "categories": [], "description": ""}, {"name": "bouchon de liège", "categories": [], "description": ""}, {"name": "lames de rasoir", "categories": [], "description": ""}, {"name": "collant", "categories": [], "description": ""}, {"name": "moule en silicone", "categories": [], "description": ""}, {"name": "briquet", "categories": [], "description": ""}, {"name": "huile de vidange", "categories": [], "description": ""}, {"name": "mug", "categories": [], "description": ""}, {"name": "souris d'ordinateur", "categories": [], "description": ""}, {"name": "pneu", "categories": [], "description": ""}, {"name": "sachet de thé", "categories": [], "description": ""}, {"name": "serviette en papier", "categories": ["papier"], "description": ""}, {"name": "mortier", "categories": [], "description": ""}, {"name": "ardoise", "categories": [], "description": ""}, {"name": "briques", "categories": [], "description": ""}, {"name": "terre", "categories": [], "description": ""}, {"name": "béton", "categories": [], "description": ""}, {"name": "vitres", "categories": [], "description": ""}, {"name": "tonte de gazon", "categories": [], "description": ""}, {"name": "branchages", "categories": [], "description": ""}, {"name": "feuilles mortes", "categories": [], "description": ""}, {"name": "réfrigérateur", "categories": [], "description": ""}, {"name": "congélateur", "categories": [], "description": ""}, {"name": "écran cathodique", "categories": [], "description": ""}, {"name": "bouilloire", "categories": [], "description": ""}, {"name": "sèche-cheveux", "categories": [], "description": ""}, {"name": "appareil photo", "categories": [], "description": ""}, {"name": "perceuse", "categories": [], "description": ""}, {"name": "console de jeux", "categories": [], "description": ""}, {"name": "micro-onde", "categories": [], "description": ""}, {"name": "moniteur", "categories": [], "description": "écran d'ordinateur"}, {"name": "aspirateur", "categories": [], "description": ""}, {"name": "grille-pain", "categories": [], "description": ""}, {"name": "lave-vaisselle", "categories": [], "description": ""}, {"name": "climatiseur", "categories": [], "description": ""}, {"name": "sèche-linge", "categories": [], "description": ""}, {"name": "cuisinière", "categories": [], "description": ""}, {"name": "hotte", "categories": [], "description": ""}, {"name": "four électrique", "categories": [], "description": ""}, {"name": "plaque de cuisson", "categories": [], "description": ""}, {"name": "ventilateur", "categories": [], "description": ""}, {"name": "ordinateur portable", "categories": [], "description": ""}, {"name": "robot ménager", "categories": [], "description": ""}, {"name": "transformateur d'alimentation électrique", "categories": [], "description": ""}, {"name": "couteau électrique", "categories": [], "description": ""}, {"name": "hachoir électrique", "categories": [], "description": ""}, {"name": "fer à repasser", "categories": [], "description": ""}, {"name": "friteuse électrique", "categories": [], "description": ""}, {"name": "grill", "categories": [], "description": ""}, {"name": "appareil à raclette", "categories": [], "description": ""}, {"name": "rasoir électrique", "categories": [], "description": ""}, {"name": "baladeur", "categories": [], "description": ""}, {"name": "caméscope", "categories": [], "description": ""}, {"name": "chaîne hi-fi", "categories": [], "description": ""}, {"name": "enceintes", "categories": [], "description": ""}, {"name": "clavier", "categories": [], "description": ""}, {"name": "unités centrales d'ordinateur", "categories": [], "description": ""}, {"name": "radio-réveil", "categories": [], "description": ""}, {"name": "répondeur", "categories": [], "description": ""}, {"name": "tablette tactile", "categories": [], "description": ""}, {"name": "téléphone fixe", "categories": [], "description": ""}, {"name": "jouet télécommandé", "categories": [], "description": ""}, {"name": "lampe torche", "categories": [], "description": ""}, {"name": "barbecue électrique", "categories": [], "description": ""}, {"name": "machine à coudre", "categories": [], "description": ""}, {"name": "nettoyeur haute-pression", "categories": [], "description": ""}, {"name": "visseuse", "categories": [], "description": ""}, {"name": "ponceuse", "categories": [], "description": ""}, {"name": "taille-haie", "categories": [], "description": ""}, {"name": "tronçonneuse", "categories": [], "description": ""}, {"name": "magnétoscope", "categories": [], "description": ""}, {"name": "chaudière ", "categories": [], "description": ""}, {"name": "box internet", "categories": [], "description": ""}, {"name": "radiateur électrique", "categories": [], "description": ""}, {"name": "batteur électrique", "categories": [], "description": ""}, {"name": "mixeur", "categories": [], "description": ""}, {"name": "fer à friser", "categories": [], "description": ""}, {"name": "scie circulaire", "categories": [], "description": ""}, {"name": "imprimante", "categories": [], "description": ""}, {"name": "scie sauteuse", "categories": [], "description": ""}, {"name": "tondeuse à gazon", "categories": [], "description": ""}];
    for (var i in dechets){
      Garbage.add(dechets[i]);
    }
  }
}

function GarbageCtrl($scope, $location, $routeParams, Garbage) {
  Garbage.get({id: $routeParams.garbageId}, function(garbage) {
    self.original = garbage;
    $scope.garbage = new Garbage(self.original);
  });
}